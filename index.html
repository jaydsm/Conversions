<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercices de Conversion - 1ère Scientifique</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1, h2, h3 {
            color: #2c3e50;
        }
        .important {
            background-color: #f0f0f0;
            border-left: 5px solid #3498db;
            padding: 10px;
            margin: 10px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .exercise {
            margin-bottom: 20px;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 5px;
        }
        input[type="text"] {
            width: 150px;
            padding: 5px;
            margin-right: 10px;
        }
        button {
            padding: 5px 10px;
            background-color: #3498db;
            color: white;
            border: none;
            cursor: pointer;
            margin-right: 5px;
        }
        .feedback {
            margin-top: 5px;
            font-weight: bold;
        }
        .correct {
            color: green;
        }
        .incorrect {
            color: red;
        }
        ., .explanation {
            display: none;
            margin-top: 10px;
            padding: 5px;
            background-color: #e8f4f8;
            border-left: 3px solid #3498db;
        }
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            table {
                font-size: 14px;
            }
            input[type="text"] {
                width: 100%;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <h1>Exercices de Conversion - 1ère Scientifique</h1>
    
    <h2>Rappels de cours</h2>
    
    <h3>Préfixes multiplicatifs</h3>
    <div class="important">
        <p>10<sup>9</sup> = 1 G (giga)</p>
        <p>10<sup>6</sup> = 1 M (méga)</p>
        <p>10<sup>3</sup> = 1 k (kilo)</p>
        <p>10<sup>-3</sup> = 1 m (milli)</p>
        <p>10<sup>-6</sup> = 1 µ (micro)</p>
        <p>10<sup>-9</sup> = 1 n (nano)</p>
    </div>

    <h3>Décomposition des puissances de 10</h3>
    <div class="important">
        <p>Pour convertir, on décompose en puissances de 10 :</p>
        <p>1 km = 1000 m = 10<sup>3</sup> m</p>
        <p>1 cm = 0,01 m = 10<sup>-2</sup> m</p>
    </div>

    <h2>Tableau de conversion</h2>
    <table>
        <tr>
            <th>Grandeur</th>
            <th>Unités</th>
            <th>Conversions</th>
        </tr>
        <tr>
            <td>Longueur</td>
            <td>km, m, cm, mm, µm, Mm, ly</td>
            <td>1 km = 10<sup>3</sup> m, 1 m = 10<sup>2</sup> cm = 10<sup>3</sup> mm = 10<sup>6</sup> µm</td>
        </tr>
        <tr>
            <td>Masse</td>
            <td>ton, kg, g, mg, µg, Mg</td>
            <td>1 ton = 10<sup>3</sup> kg, 1 kg = 10<sup>3</sup> g, 1 g = 10<sup>3</sup> mg = 10<sup>6</sup> µg</td>
        </tr>
        <tr>
            <td>Volume</td>
            <td>m³, L, mL, cm³, mm³</td>
            <td>1 m³ = 10<sup>3</sup> L, 1 L = 10<sup>3</sup> mL = 10<sup>3</sup> cm³, 1 cm³ = 10<sup>3</sup> mm³</td>
        </tr>
        <tr>
            <td>Vitesse</td>
            <td>km/h, m/s</td>
            <td>1 km/h ≈ 0,278 m/s, 1 m/s = 3,6 km/h</td>
        </tr>
        <tr>
            <td>Pression</td>
            <td>Pa, bar, kPa, atm</td>
            <td>1 bar = 10<sup>5</sup> Pa, 1 kPa = 10<sup>3</sup> Pa, 1 atm ≈ 1,013 x 10<sup>5</sup> Pa</td>
        </tr>
        <tr>
            <td>Énergie</td>
            <td>J, kJ, cal, kWh</td>
            <td>1 kJ = 10<sup>3</sup> J, 1 cal ≈ 4,18 J, 1 kWh = 3,6 x 10<sup>6</sup> J</td>
        </tr>
    </table>

    <h2>Consignes</h2>
    <div class="important">
        <p>- Utilisez la virgule (,) comme séparateur décimal.</p>
        <p>- Utilisez "x" pour la multiplication dans la notation scientifique.</p>
        <p>- N'incluez pas d'espaces dans votre réponse.</p>
        <p>- N'incluez pas l'unité finale dans votre réponse.</p>
        <p>Exemple de réponse correcte : 1,5x10^5</p>
    </div>

    <h2>Exercices de conversion</h2>
    <div id="exercises"></div>

    <script>
        const unitInfo = {
            length: {
                units: ['km', 'm', 'cm', 'mm', 'µm'],
                base: 'm',
                conversions: {
                    'km': 3, 'm': 0, 'cm': -2, 'mm': -3, 'µm': -6
                }
            },
            mass: {
                units: ['ton', 'kg', 'g', 'mg', 'µg'],
                base: 'kg',
                conversions: {
                    'ton': 3, 'kg': 0, 'g': -3, 'mg': -6, 'µg': -9
                }
            },
            volume: {
                units: ['m³', 'L', 'mL', 'cm³', 'mm³'],
                base: 'L',
                conversions: {
                    'm³': 3, 'L': 0, 'mL': -3, 'cm³': -3, 'mm³': -6
                }
            }
        };

        function getExponent(category, from, to) {
    if (!unitInfo[category] || !unitInfo[category].conversions[from] || !unitInfo[category].conversions[to]) {
        console.error(`Unités non trouvées dans la catégorie ${category}: ${from} ou ${to}`);
        return 0;
    }
    return unitInfo[category].conversions[to] - unitInfo[category].conversions[from];
}


        function toScientificNotation(number) {
            const exponent = Math.floor(Math.log10(Math.abs(number)));
            const mantissa = number / Math.pow(10, exponent);
            return { mantissa: mantissa.toFixed(1), exponent };
        }

       function showExplanation(index) {
    const explanationElement = document.getElementById(`explanation${index}`);
    explanationElement.style.display = 'block';
    const ex = exercises[index];
    
    let explanation = '<h4>Explication détaillée :</h4>';

    let category;
    for (const cat in unitInfo) {
        if (unitInfo[cat].units.includes(ex.unitInitial) && unitInfo[cat].units.includes(ex.unitFinal)) {
            category = cat;
            break;
        }
    }

    if (category) {
        const exponent = getExponent(category, ex.unitInitial, ex.unitFinal);
        const initialValue = parseFloat(ex.initial.replace(',', '.'));
        const { mantissa, exponent: initialExponent } = toScientificNotation(initialValue);

        explanation += `<p>1 ${ex.unitInitial} = 10<sup>${exponent}</sup> ${ex.unitFinal}</p>`;
        
        if (Math.abs(exponent) > 3) {
            const baseUnit = unitInfo[category].base;
            const expToBase = getExponent(category, ex.unitInitial, baseUnit);
            const expFromBase = getExponent(category, baseUnit, ex.unitFinal);
            explanation += `<p>1 ${ex.unitInitial} = 10<sup>${expToBase}</sup> ${baseUnit}</p>`;
            explanation += `<p>1 ${baseUnit} = 10<sup>${expFromBase}</sup> ${ex.unitFinal}</p>`;
            explanation += `<p>Donc : 1 ${ex.unitInitial} = 10<sup>${expToBase}</sup> × 10<sup>${expFromBase}</sup> ${ex.unitFinal} = 10<sup>${exponent}</sup> ${ex.unitFinal}</p>`;
        }

        explanation += `<p>${ex.initial} ${ex.unitInitial} = ${ex.initial} × 10<sup>${exponent}</sup> ${ex.unitFinal}</p>`;
        explanation += `<p>= ${mantissa} × 10<sup>${initialExponent}</sup> × 10<sup>${exponent}</sup> ${ex.unitFinal}</p>`;
        explanation += `<p>= ${mantissa} × 10<sup>${initialExponent + exponent}</sup> ${ex.unitFinal} = ${ex.final} ${ex.unitFinal}</p>`;
    } else if (ex.unitInitial.includes('/') || ex.unitFinal.includes('/')) {
        const factor = (parseFloat(ex.final.replace(',', '.')) / parseFloat(ex.initial.replace(',', '.'))).toFixed(4);
        explanation += `<p>1 ${ex.unitInitial} = ${factor} ${ex.unitFinal}</p>`;
        explanation += `<p>${ex.initial} ${ex.unitInitial} = ${ex.initial} × ${factor} = ${ex.final} ${ex.unitFinal}</p>`;
    } else {
        const factor = (parseFloat(ex.final.replace(',', '.')) / parseFloat(ex.initial.replace(',', '.'))).toFixed(4);
        explanation += `<p>1 ${ex.unitInitial} = ${factor} ${ex.unitFinal}</p>`;
        explanation += `<p>${ex.initial} ${ex.unitInitial} = ${ex.initial} × ${factor} = ${ex.final} ${ex.unitFinal}</p>`;
    }

    explanationElement.innerHTML = explanation;
}


        function showHint(index) {
    const hintElement = document.getElementById(`hint${index}`);
    const ex = exercises[index];
    let hint = '';

    let category;
    for (const cat in unitInfo) {
        if (unitInfo[cat].units.includes(ex.unitInitial) && unitInfo[cat].units.includes(ex.unitFinal)) {
            category = cat;
            break;
        }
    }

    if (category) {
        const exponent = getExponent(category, ex.unitInitial, ex.unitFinal);
        hint = `Pensez à la relation : 1 ${ex.unitInitial} = 10<sup>${exponent}</sup> ${ex.unitFinal}`;
    } else {
        hint = `Pensez à la relation entre ${ex.unitInitial} et ${ex.unitFinal}. Utilisez les puissances de 10.`;
    }

    hintElement.innerHTML = hint;
    hintElement.style.display = 'block';
}


        function checkAnswer(index) {
            const userAnswer = document.getElementById(`answer${index}`).value.replace(/\s/g, '').toLowerCase();
            const correctAnswer = exercises[index].final.replace(/\s/g, '').toLowerCase();
            const feedbackElement = document.getElementById(`feedback${index}`);
            const hintButton = document.getElementById(`hintBtn${index}`);
            
            if (userAnswer === correctAnswer) {
                feedbackElement.textContent = "Correct ! Bien joué !";
                feedbackElement.className = "feedback correct";
                hintButton.style.display = 'none';
                showExplanation(index);
            } else {
                feedbackElement.textContent = "Incorrect. Essayez encore !";
                feedbackElement.className = "feedback incorrect";
                hintButton.style.display = 'inline-block';
            }
        }

        function createExercises() {
            const container = document.getElementById('exercises');
            exercises.forEach((ex, index) => {
                const div = document.createElement('div');
                div.className = 'exercise';
                div.innerHTML = `
                    <p>Convertissez ${ex.initial} ${ex.unitInitial} en ${ex.unitFinal}</p>
                    <input type="text" id="answer${index}" placeholder="Votre réponse">
                    <button onclick="checkAnswer(${index})">Vérifier</button>
                    <button onclick="showHint(${index})" id="hintBtn${index}" style="display:none;">Indice</button>
                    <div id="feedback${index}" class="feedback"></div>
                    <div id="hint${index}" class="hint"></div>
                    <div id="explanation${index}" class="explanation"></div>
                `;
                container.appendChild(div);
            });
        }

          const exercises = [
            {initial: "1500", unitInitial: "km", final: "1,5x10^8", unitFinal: "cm", difficulty: 1},
            {initial: "2,5", unitInitial: "mg", final: "2,5x10^-6", unitFinal: "kg", difficulty: 1},
            {initial: "3,7", unitInitial: "L", final: "3,7x10^3", unitFinal: "mL", difficulty: 1},
            {initial: "450", unitInitial: "cm", final: "4,5x10^-3", unitFinal: "km", difficulty: 2},
            {initial: "0,8", unitInitial: "kg", final: "8,0x10^5", unitFinal: "mg", difficulty: 2},
            {initial: "6000", unitInitial: "m", final: "6,0x10^-3", unitFinal: "Mm", difficulty: 2},
            {initial: "0,025", unitInitial: "km", final: "2,5x10^4", unitFinal: "mm", difficulty: 3},
            {initial: "1,2", unitInitial: "ton", final: "1,2x10^6", unitFinal: "g", difficulty: 3},
            {initial: "750", unitInitial: "mL", final: "7,5x10^-4", unitFinal: "m³", difficulty: 3},
            {initial: "9", unitInitial: "km/h", final: "2,5", unitFinal: "m/s", difficulty: 4},
            {initial: "0,075", unitInitial: "km", final: "7,5x10^4", unitFinal: "mm", difficulty: 2},
            {initial: "1,8", unitInitial: "Mg", final: "1,8x10^6", unitFinal: "g", difficulty: 2},
            {initial: "320", unitInitial: "cm³", final: "3,2x10^-4", unitFinal: "m³", difficulty: 2},
            {initial: "4,5", unitInitial: "m/s", final: "1,62x10^1", unitFinal: "km/h", difficulty: 3},
            {initial: "0,0025", unitInitial: "km²", final: "2,5x10^3", unitFinal: "m²", difficulty: 3},
            {initial: "1,2", unitInitial: "kPa", final: "1,2x10^3", unitFinal: "Pa", difficulty: 2},
            {initial: "0,5", unitInitial: "ton/m³", final: "5,0x10^2", unitFinal: "kg/m³", difficulty: 3},
            {initial: "2,8", unitInitial: "kW", final: "2,8x10^3", unitFinal: "W", difficulty: 2},
            {initial: "150", unitInitial: "km/h", final: "4,17x10^1", unitFinal: "m/s", difficulty: 3},
            {initial: "0,03", unitInitial: "bar", final: "3,0x10^3", unitFinal: "Pa", difficulty: 3},
            {initial: "1,8", unitInitial: "g/cm³", final: "1,8x10^3", unitFinal: "kg/m³", difficulty: 3},
            {initial: "5000", unitInitial: "mm", final: "5,0", unitFinal: "m", difficulty: 1},
            {initial: "0,6", unitInitial: "m/s²", final: "2,16", unitFinal: "km/h²", difficulty: 4},
            {initial: "12", unitInitial: "h", final: "4,32x10^4", unitFinal: "s", difficulty: 2},
            {initial: "0,05", unitInitial: "km³", final: "5,0x10^7", unitFinal: "m³", difficulty: 4},
            {initial: "1800", unitInitial: "mg/L", final: "1,8", unitFinal: "g/L", difficulty: 2},
            {initial: "0,25", unitInitial: "kN", final: "2,5x10^2", unitFinal: "N", difficulty: 2},
            {initial: "750", unitInitial: "cm²", final: "7,5x10^-2", unitFinal: "m²", difficulty: 2},
            {initial: "0,18", unitInitial: "Mg", final: "1,8x10^2", unitFinal: "kg", difficulty: 2},
            {initial: "9000", unitInitial: "µm", final: "9,0x10^-3", unitFinal: "m", difficulty: 3},
            {initial: "0,8", unitInitial: "km/min", final: "1,33x10^1", unitFinal: "m/s", difficulty: 4},
            {initial: "2,2", unitInitial: "kg/L", final: "2,2x10^3", unitFinal: "g/L", difficulty: 2},
            {initial: "3500", unitInitial: "mm³", final: "3,5x10^-6", unitFinal: "m³", difficulty: 3},
            {initial: "0,18", unitInitial: "MW", final: "1,8x10^5", unitFinal: "W", difficulty: 3},
            {initial: "6", unitInitial: "km²", final: "6,0x10^6", unitFinal: "m²", difficulty: 2},
            {initial: "0,08", unitInitial: "m³/s", final: "8,0x10^1", unitFinal: "L/s", difficulty: 3},
            {initial: "2800", unitInitial: "mg", final: "2,8x10^-3", unitFinal: "kg", difficulty: 2},
            {initial: "1,2", unitInitial: "km/s", final: "4,32x10^3", unitFinal: "km/h", difficulty: 4},
            {initial: "1,8", unitInitial: "ton/m³", final: "1,8x10^-3", unitFinal: "kg/L", difficulty: 4},
            {initial: "4500", unitInitial: "cm", final: "4,5x10^-2", unitFinal: "km", difficulty: 2},
            {initial: "0,05", unitInitial: "kPa", final: "5,0x10^1", unitFinal: "Pa", difficulty: 2},
            {initial: "2400", unitInitial: "mm²", final: "2,4x10^-3", unitFinal: "m²", difficulty: 3},
            {initial: "0,9", unitInitial: "m/s³", final: "3,24x10^3", unitFinal: "km/h³", difficulty: 5},
            {initial: "3", unitInitial: "GHz", final: "3,0x10^9", unitFinal: "Hz", difficulty: 3},
            {initial: "0,015", unitInitial: "km³", final: "1,5x10^7", unitFinal: "m³", difficulty: 4},
            {initial: "2200", unitInitial: "mg/m³", final: "2,2x10^-3", unitFinal: "g/L", difficulty: 4},
            {initial: "0,6", unitInitial: "kN/m²", final: "6,0x10^-3", unitFinal: "bar", difficulty: 4},
            {initial: "1800", unitInitial: "µg", final: "1,8x10^-6", unitFinal: "kg", difficulty: 3},
            {initial: "0,06", unitInitial: "Mm", final: "6,0x10^4", unitFinal: "m", difficulty: 3},
            {initial: "12", unitInitial: "km/h²", final: "9,26x10^-4", unitFinal: "m/s²", difficulty: 4},
            {initial: "0,8", unitInitial: "kg/m²", final: "8,0x10^-4", unitFinal: "ton/m²", difficulty: 3},
            {initial: "9000", unitInitial: "mm/s", final: "3,24x10^1", unitFinal: "km/h", difficulty: 4},
            {initial: "0,25", unitInitial: "MW·h", final: "9,0x10^8", unitFinal: "J", difficulty: 4},
            {initial: "2500", unitInitial: "cm³/s", final: "2,5x10^-3", unitFinal: "m³/s", difficulty: 3},
            {initial: "0,4", unitInitial: "km/L", final: "4,0x10^-4", unitFinal: "m³/m", difficulty: 4},
            {initial: "2,5", unitInitial: "kg·m/s²", final: "2,5", unitFinal: "N", difficulty: 3},
            {initial: "3500", unitInitial: "mm Hg", final: "4,67x10^5", unitFinal: "Pa", difficulty: 4},
            {initial: "0,18", unitInitial: "km/s²", final: "6,48x10^5", unitFinal: "km/h²", difficulty: 5},
            {initial: "10", unitInitial: "m²/s", final: "3,6x10^4", unitFinal: "m²/h", difficulty: 3},
            {initial: "0,08", unitInitial: "mol/L", final: "8,0x10^-2", unitFinal: "mol/dm³", difficulty: 2},
            {initial: "4200", unitInitial: "cd", final: "4,2x10^3", unitFinal: "lm/sr", difficulty: 3},
            {initial: "1,2", unitInitial: "kg·m²", final: "1,2x10^5", unitFinal: "g·cm²", difficulty: 4},
            {initial: "3,6", unitInitial: "J/kg·K", final: "3,6x10^-3", unitFinal: "kJ/kg·K", difficulty: 3},
            {initial: "8000", unitInitial: "lx", final: "8,0x10^3", unitFinal: "lm/m²", difficulty: 3},
            {initial: "0,05", unitInitial: "T", final: "5,0x10^-2", unitFinal: "Wb/m²", difficulty: 4},
            {initial: "2400", unitInitial: "rad/s", final: "3,82x10^2", unitFinal: "Hz", difficulty: 4},
            {initial: "0,9", unitInitial: "C/m³", final: "9,0x10^5", unitFinal: "µC/L", difficulty: 4},
            {initial: "8", unitInitial: "Gy", final: "8,0", unitFinal: "J/kg", difficulty: 3},
            {initial: "0,03", unitInitial: "H", final: "3,0x10^-2", unitFinal: "Wb/A", difficulty: 4}
        ];

        exercises.sort((a, b) => a.difficulty - b.difficulty);

        createExercises();
    </script>
</body>
</html>

